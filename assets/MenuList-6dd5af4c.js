import{r as l,b as N,g as Q,w as O,a as W,_ as I,y as X,Z as Y,z}from"./index-d0d8acaf.js";import"./index-1aacdabe.js";import{g as ee}from"./Portal-62db806b.js";import{o as G}from"./ownerDocument-613eb639.js";import{L as te}from"./List-50ae8840.js";import{a as ne}from"./useEventCallback-e042a44f.js";const ie=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function _(r){return`scale(${r}, ${r**2})`}const re={entering:{opacity:1,transform:_(1)},entered:{opacity:1,transform:"none"}},$=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),U=l.forwardRef(function(t,s){const{addEndListener:w,appear:y=!0,children:b,easing:m,in:u,onEnter:c,onEntered:D,onEntering:R,onExit:v,onExited:H,onExiting:f,style:C,timeout:g="auto",TransitionComponent:K=X}=t,d=N(t,ie),F=l.useRef(),e=l.useRef(),i=Q(),a=l.useRef(null),p=O(a,b.ref,s),n=o=>E=>{if(o){const x=a.current;E===void 0?o(x):o(x,E)}},S=n(R),k=n((o,E)=>{Y(o);const{duration:x,delay:M,easing:h}=z({style:C,timeout:g,easing:m},{mode:"enter"});let T;g==="auto"?(T=i.transitions.getAutoHeightDuration(o.clientHeight),e.current=T):T=x,o.style.transition=[i.transitions.create("opacity",{duration:T,delay:M}),i.transitions.create("transform",{duration:$?T:T*.666,delay:M,easing:h})].join(","),c&&c(o,E)}),A=n(D),Z=n(f),q=n(o=>{const{duration:E,delay:x,easing:M}=z({style:C,timeout:g,easing:m},{mode:"exit"});let h;g==="auto"?(h=i.transitions.getAutoHeightDuration(o.clientHeight),e.current=h):h=E,o.style.transition=[i.transitions.create("opacity",{duration:h,delay:x}),i.transitions.create("transform",{duration:$?h:h*.666,delay:$?x:x||h*.333,easing:M})].join(","),o.style.opacity=0,o.style.transform=_(.75),v&&v(o)}),B=n(H),J=o=>{g==="auto"&&(F.current=setTimeout(o,e.current||0)),w&&w(a.current,o)};return l.useEffect(()=>()=>{clearTimeout(F.current)},[]),W(K,I({appear:y,in:u,nodeRef:a,onEnter:k,onEntered:A,onEntering:S,onExit:q,onExited:B,onExiting:Z,addEndListener:J,timeout:g==="auto"?null:g},d,{children:(o,E)=>l.cloneElement(b,I({style:I({opacity:0,transform:_(.75),visibility:o==="exited"&&!u?"hidden":void 0},re[o],C,b.props.style),ref:p},E))}))});U.muiSupportAuto=!0;const pe=U,oe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function j(r,t,s){return r===t?r.firstChild:t&&t.nextElementSibling?t.nextElementSibling:s?null:r.firstChild}function P(r,t,s){return r===t?s?r.firstChild:r.lastChild:t&&t.previousElementSibling?t.previousElementSibling:s?null:r.lastChild}function V(r,t){if(t===void 0)return!0;let s=r.innerText;return s===void 0&&(s=r.textContent),s=s.trim().toLowerCase(),s.length===0?!1:t.repeating?s[0]===t.keys[0]:s.indexOf(t.keys.join(""))===0}function L(r,t,s,w,y,b){let m=!1,u=y(r,t,t?s:!1);for(;u;){if(u===r.firstChild){if(m)return!1;m=!0}const c=w?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!V(u,b)||c)u=y(r,u,s);else return u.focus(),!0}return!1}const se=l.forwardRef(function(t,s){const{actions:w,autoFocus:y=!1,autoFocusItem:b=!1,children:m,className:u,disabledItemsFocusable:c=!1,disableListWrap:D=!1,onKeyDown:R,variant:v="selectedMenu"}=t,H=N(t,oe),f=l.useRef(null),C=l.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ne(()=>{y&&f.current.focus()},[y]),l.useImperativeHandle(w,()=>({adjustStyleForScrollbar:(e,i)=>{const a=!f.current.style.width;if(e.clientHeight<f.current.clientHeight&&a){const p=`${ee(G(e))}px`;f.current.style[i.direction==="rtl"?"paddingLeft":"paddingRight"]=p,f.current.style.width=`calc(100% + ${p})`}return f.current}}),[]);const g=e=>{const i=f.current,a=e.key,p=G(i).activeElement;if(a==="ArrowDown")e.preventDefault(),L(i,p,D,c,j);else if(a==="ArrowUp")e.preventDefault(),L(i,p,D,c,P);else if(a==="Home")e.preventDefault(),L(i,null,D,c,j);else if(a==="End")e.preventDefault(),L(i,null,D,c,P);else if(a.length===1){const n=C.current,S=a.toLowerCase(),k=performance.now();n.keys.length>0&&(k-n.lastTime>500?(n.keys=[],n.repeating=!0,n.previousKeyMatched=!0):n.repeating&&S!==n.keys[0]&&(n.repeating=!1)),n.lastTime=k,n.keys.push(S);const A=p&&!n.repeating&&V(p,n);n.previousKeyMatched&&(A||L(i,p,!1,c,j,n))?e.preventDefault():n.previousKeyMatched=!1}R&&R(e)},K=O(f,s);let d=-1;l.Children.forEach(m,(e,i)=>{l.isValidElement(e)&&(e.props.disabled||(v==="selectedMenu"&&e.props.selected||d===-1)&&(d=i),d===i&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(d+=1,d>=m.length&&(d=-1)))});const F=l.Children.map(m,(e,i)=>{if(i===d){const a={};return b&&(a.autoFocus=!0),e.props.tabIndex===void 0&&v==="selectedMenu"&&(a.tabIndex=0),l.cloneElement(e,a)}return e});return W(te,I({role:"menu",ref:K,className:u,onKeyDown:g,tabIndex:y?0:-1},H,{children:F}))}),me=se;export{pe as G,me as M};
//# sourceMappingURL=MenuList-6dd5af4c.js.map
